<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Services - Kafal Cooperative Society</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <a href="index.html" class="logo">
                <img src="images/logo svg.svg" alt="Kafal Cooperative Society Logo" onerror="this.style.display='none'">
                Kafal Cooperative Society
            </a>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="about.html">About Us</a>
                <a href="events.html">Events</a>
                <a href="services.html" class="active">Services</a>
                <div class="nav-actions">
                    <div class="notification-bell" onclick="toggleNotifications()">
                        <i class="fas fa-bell"></i>
                        <span class="badge" id="notificationBadge" style="display: none;">0</span>
                        <div class="notification-dropdown" id="notificationDropdown">
                            <div class="notification-header">
                                <h3>Notifications</h3>
                                <span class="mark-all-read" onclick="markAllRead()">Mark all as read</span>
                            </div>
                            <div class="notification-list" id="notificationList">
                                <div class="notification-item">
                                    <div class="notification-icon">
                                        <i class="fas fa-info-circle"></i>
                                    </div>
                                    <div class="notification-content">
                                        <h4>No New Notifications</h4>
                                        <p>You're all caught up! Check back later for updates.</p>
                                        <span class="notification-time">Now</span>
                                    </div>
                                </div>
                            </div>
                            <div class="notification-footer">
                                <a href="#" class="view-all-btn">View All Notifications</a>
                            </div>
                        </div>
                    </div>
                    <a href="admin-register.html" class="btn btn-outline">Admin Register</a>
                    <a href="member-login.html" class="btn btn-primary">Login</a>
                </div>
            </div>
            <button class="menu-toggle" aria-label="Toggle menu">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Services Hero -->
    <section class="page-hero">
        <div class="container">
            <h1>Our Cooperative Services</h1>
            <p>Comprehensive financial solutions for all your needs</p>
        </div>
    </section>

    <!-- Services Grid -->
    <section class="services-section">
        <div class="container">
            <div class="services-tabs">
                <button class="tab-btn active" data-tab="accounts">Accounts</button>
                <button class="tab-btn" data-tab="loans">Loans</button>
                <button class="tab-btn" data-tab="investments">Investments</button>
            </div>
            
            <div class="tab-content active" id="accounts">
                <div class="services-grid">
                    <div class="service-card">
                        <i class="fas fa-piggy-bank"></i>
                        <h3>Savings Accounts</h3>
                        <p>High-interest savings accounts with flexible withdrawal options.</p>
                        <a href="#" class="btn btn-outline" onclick="showAccountModal('Savings Account')">Learn More</a>
                    </div>
                    <div class="service-card">
                        <i class="fas fa-building"></i>
                        <h3>Current Accounts</h3>
                        <p>Business banking solutions with unlimited transactions.</p>
                        <a href="#" class="btn btn-outline" onclick="showAccountModal('Current Account')">Learn More</a>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="loans">
                <div class="loan-info-container">
                    <div class="loan-header">
                        <i class="fas fa-hand-holding-usd"></i>
                        <h2>Cooperative Loan Services</h2>
                        <p>Affordable loans for our valued members with competitive rates and flexible terms</p>
                    </div>
                    
                    <!-- Loan Amount Container -->
                    <div class="loan-info-section">
                        <div class="loan-section-header">
                            <i class="fas fa-calculator"></i>
                            <h3>Loan Amount</h3>
                        </div>
                        <div class="loan-horizontal-info">
                            <div class="info-item">
                                <span class="info-label">Minimum:</span>
                                <span class="info-value">10% of share money</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Small Loans:</span>
                                <span class="info-value">Up to ₹20,000</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Maximum Limit:</span>
                                <span class="info-value">₹5,00,000</span>
                            </div>
                        </div>
                    </div>

                    <!-- Interest & Fees Container -->
                    <div class="loan-info-section">
                        <div class="loan-section-header">
                            <i class="fas fa-percentage"></i>
                            <h3>Interest & Fees</h3>
                        </div>
                        <div class="loan-horizontal-info">
                            <div class="info-item">
                                <span class="info-label">Interest Rate:</span>
                                <span class="info-value highlight">16% per annum</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Method:</span>
                                <span class="info-value">Reducing Balance</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Processing Fee:</span>
                                <span class="info-value">1% of loan amount</span>
                            </div>
                        </div>
                    </div>

                    <!-- Requirements Container -->
                    <div class="loan-info-section">
                        <div class="loan-section-header">
                            <i class="fas fa-file-alt"></i>
                            <h3>Requirements</h3>
                        </div>
                        <div class="loan-horizontal-info">
                            <div class="info-item">
                                <i class="fas fa-users"></i>
                                <span class="info-value">Guarantors (Co-members)</span>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-camera"></i>
                                <span class="info-value">Recent Photographs</span>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-folder-open"></i>
                                <span class="info-value">Supporting Documents</span>
                            </div>
                        </div>
                    </div>

                    <div class="loan-cta">
                        <button class="btn btn-primary" onclick="showLoanApplicationModal()">Apply for Loan</button>
                        <a href="#" class="btn btn-outline" onclick="openBranchLocation()">Visit Branch</a>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="investments">
                <div class="services-grid">
                    <div class="service-card">
                        <i class="fas fa-exclamation-triangle"></i>
                        <h3>Emergency Deposits</h3>
                        <p>Quick access deposits for unexpected financial needs and emergencies.</p>
                        <a href="#" class="btn btn-outline" onclick="showDepositModal('Emergency Deposits')">Apply</a>
                    </div>
                    <div class="service-card">
                        <i class="fas fa-hand-holding-usd"></i>
                        <h3>Optional Deposits</h3>
                        <p>Flexible deposit schemes with voluntary contribution options.</p>
                        <a href="#" class="btn btn-outline" onclick="showDepositModal('Optional Deposits')">Apply</a>
                    </div>
                    <div class="service-card">
                        <i class="fas fa-coins"></i>
                        <h3>Fixed Deposits</h3>
                        <p>Secure investments with guaranteed returns.</p>
                        <a href="#" class="btn btn-outline" onclick="showDepositModal('Fixed Deposits')">Apply</a>
                    </div>
                    <div class="service-card">
                        <i class="fas fa-calendar-check"></i>
                        <h3>Recurring Deposits</h3>
                        <p>Regular monthly deposits with attractive interest rates and maturity benefits.</p>
                        <a href="#" class="btn btn-outline" onclick="showDepositModal('Recurring Deposits')">Apply</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Service Benefits -->
    <section class="service-benefits">
        <div class="container">
            <h2 class="section-title">Why Choose Our Services</h2>
            <div class="benefits-grid">
                <div class="benefit-card">
                    <i class="fas fa-lock"></i>
                    <h3>Secure Banking</h3>
                    <p>Advanced security measures to protect your transactions and data.</p>
                </div>
                <div class="benefit-card">
                    <i class="fas fa-clock"></i>
                    <h3>24/7 Access</h3>
                    <p>Bank anytime with our digital platforms and customer support.</p>
                </div>
                <div class="benefit-card">
                    <i class="fas fa-percentage"></i>
                    <h3>Competitive Rates</h3>
                    <p>Attractive interest rates on deposits and loans.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h3>Accounts</h3>
                    <ul>
                        <li><a href="#">Savings Account</a></li>
                        <li><a href="#">Current Account</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Services</h3>
                    <ul>
                        <li><a href="services.html">Loans</a></li>
                        <li><a href="services.html">Cards</a></li>
                        <li><a href="services.html">Investments</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Company</h3>
                    <ul>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="events.html">Events</a></li>
                        <li><a href="#">Careers</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Contact</h3>
                    <ul>
                        <li><a href="#">Customer Care</a></li>
                        <li><a href="#">Branch Locator</a></li>
                        <li>24x7 Helpline: 1800 123 4567</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 Kafal Cooperative Society. All rights reserved.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Account Modal -->
    <div id="accountModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAccountModal()">&times;</span>
            <div class="modal-header">
                <i class="fas fa-info-circle"></i>
                <h2 id="modalTitle">Account Information</h2>
            </div>
            <div class="modal-body">
                <p><strong>Important Notice:</strong></p>
                <p>Account opening is only allowed and permitted at the branch office. Please visit your nearest Kafal Cooperative Society branch to open a new account.</p>
                <div class="modal-actions">
                    <a href="#" class="btn btn-primary" onclick="openBranchLocation()">Find Branch</a>
                    <button class="btn btn-outline" onclick="closeAccountModal()">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Loan Application Modal -->
    <div id="loanApplicationModal" class="loan-modal">
        <div class="loan-modal-content">
            <div class="loan-modal-header">
                <h2><i class="fas fa-file-alt"></i> Loan Application Form</h2>
                <span class="close" onclick="closeLoanApplicationModal()">&times;</span>
            </div>
            <div class="loan-modal-body">
                <form class="loan-application-form" id="loanApplicationForm">
                    <!-- Personal Information Section -->
                    <div class="form-section">
                        <div class="section-header">
                            <i class="fas fa-user"></i>
                            <h3>Personal Information</h3>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="firstName">First Name *</label>
                                <input type="text" id="firstName" name="firstName" required>
                            </div>
                            <div class="form-group">
                                <label for="lastName">Last Name *</label>
                                <input type="text" id="lastName" name="lastName" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="fatherName">Father's Name *</label>
                                <input type="text" id="fatherName" name="fatherName" required>
                            </div>
                            <div class="form-group">
                                <label for="dateOfBirth">Date of Birth *</label>
                                <input type="date" id="dateOfBirth" name="dateOfBirth" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="mobile">Mobile Number *</label>
                                <input type="tel" id="mobile" name="mobile" pattern="[0-9]{10}" required>
                            </div>
                            <div class="form-group">
                                <label for="email">Email Address *</label>
                                <input type="email" id="email" name="email" required>
                            </div>
                        </div>
                    </div>

                    <!-- Aadhaar Information Section -->
                    <div class="form-section">
                        <div class="section-header">
                            <i class="fas fa-id-card"></i>
                            <h3>Aadhaar Information</h3>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="aadhaarNumber">Aadhaar Number *</label>
                                <input type="text" id="aadhaarNumber" name="aadhaarNumber" pattern="[0-9]{12}" maxlength="12" required>
                                <small>Enter 12-digit Aadhaar number</small>
                            </div>
                            <div class="form-group">
                                <label for="panNumber">PAN Number</label>
                                <input type="text" id="panNumber" name="panNumber" pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}" maxlength="10" style="text-transform: uppercase;">
                                <small>Optional</small>
                            </div>
                        </div>
                    </div>

                    <!-- Loan Information Section -->
                    <div class="form-section">
                        <div class="section-header">
                            <i class="fas fa-money-bill-wave"></i>
                            <h3>Loan Information</h3>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="loanAmount">Requested Loan Amount (₹) *</label>
                                <input type="number" id="loanAmount" name="loanAmount" min="1000" max="500000" required>
                                <small>Minimum: 10% of share money, Maximum: ₹5,00,000</small>
                            </div>
                            <div class="form-group">
                                <label for="loanPurpose">Loan Purpose *</label>
                                <select id="loanPurpose" name="loanPurpose" required>
                                    <option value="">Select Purpose</option>
                                    <option value="business">Business</option>
                                    <option value="education">Education</option>
                                    <option value="medical">Medical Emergency</option>
                                    <option value="agriculture">Agriculture</option>
                                    <option value="personal">Personal</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="shareAmount">Current Share Amount (₹) *</label>
                            <input type="number" id="shareAmount" name="shareAmount" min="0" required>
                            <small>Your current share contribution with the cooperative</small>
                        </div>
                    </div>

                    <!-- Guarantor Information Section -->
                    <div class="form-section">
                        <div class="section-header">
                            <i class="fas fa-users"></i>
                            <h3>Guarantor Information</h3>
                        </div>
                        
                        <!-- Guarantor 1 Details -->
                        <div class="guarantor-subsection">
                            <h4><i class="fas fa-user"></i> Guarantor 1 Details *</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="guarantor1Name">Full Name *</label>
                                    <input type="text" id="guarantor1Name" name="guarantor1Name" required>
                                </div>
                                <div class="form-group">
                                    <label for="guarantor1Mobile">Mobile Number *</label>
                                    <input type="tel" id="guarantor1Mobile" name="guarantor1Mobile" pattern="[0-9]{10}" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="guarantor1Aadhaar">Aadhaar Number *</label>
                                    <input type="text" id="guarantor1Aadhaar" name="guarantor1Aadhaar" pattern="[0-9]{12}" maxlength="12" required>
                                    <small>Enter 12-digit Aadhaar number</small>
                                </div>
                                <div class="form-group">
                                    <label for="guarantor1Pan">PAN Number</label>
                                    <input type="text" id="guarantor1Pan" name="guarantor1Pan" pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}" maxlength="10" style="text-transform: uppercase;">
                                    <small>Optional but recommended</small>
                                </div>
                            </div>
                        </div>

                        <!-- Guarantor 2 Details -->
                        <div class="guarantor-subsection">
                            <h4><i class="fas fa-user"></i> Guarantor 2 Details (Optional)</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="guarantor2Name">Full Name</label>
                                    <input type="text" id="guarantor2Name" name="guarantor2Name">
                                </div>
                                <div class="form-group">
                                    <label for="guarantor2Mobile">Mobile Number</label>
                                    <input type="tel" id="guarantor2Mobile" name="guarantor2Mobile" pattern="[0-9]{10}">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="guarantor2Aadhaar">Aadhaar Number</label>
                                    <input type="text" id="guarantor2Aadhaar" name="guarantor2Aadhaar" pattern="[0-9]{12}" maxlength="12">
                                    <small>Enter 12-digit Aadhaar number</small>
                                </div>
                                <div class="form-group">
                                    <label for="guarantor2Pan">PAN Number</label>
                                    <input type="text" id="guarantor2Pan" name="guarantor2Pan" pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}" maxlength="10" style="text-transform: uppercase;">
                                    <small>Optional</small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Document Upload Section -->
                    <div class="form-section">
                        <div class="section-header">
                            <i class="fas fa-upload"></i>
                            <h3>Document Upload</h3>
                        </div>
                        
                        <div class="upload-grid">
                            <div class="upload-item">
                                <label for="photoUpload">Recent Photograph *</label>
                                <div class="file-upload-area" onclick="document.getElementById('photoUpload').click()">
                                    <i class="fas fa-camera"></i>
                                    <p>Click to upload photo</p>
                                    <small>JPG, PNG (Max 2MB)</small>
                                </div>
                                <input type="file" id="photoUpload" name="photoUpload" accept="image/*" required style="display: none;">
                                <div class="file-preview" id="photoPreview"></div>
                            </div>

                            <div class="upload-item">
                                <label for="aadhaarUpload">Aadhaar Card Copy *</label>
                                <div class="file-upload-area" onclick="document.getElementById('aadhaarUpload').click()">
                                    <i class="fas fa-id-card"></i>
                                    <p>Click to upload Aadhaar</p>
                                    <small>PDF, JPG, PNG (Max 5MB)</small>
                                </div>
                                <input type="file" id="aadhaarUpload" name="aadhaarUpload" accept="image/*,.pdf" required style="display: none;">
                                <div class="file-preview" id="aadhaarPreview"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Terms and Conditions -->
                    <div class="form-section">
                        <div class="terms-section">
                            <div class="checkbox-group">
                                <input type="checkbox" id="termsAccept" name="termsAccept" required>
                                <label for="termsAccept">
                                    I agree to the terms and conditions and confirm that all information provided is accurate.
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Submit Button -->
                    <div class="form-actions">
                        <button type="button" class="btn btn-outline" onclick="closeLoanApplicationModal()">Cancel</button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-paper-plane"></i>
                            Submit Application
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Deposit Application Modal -->
    <div id="depositModal" class="deposit-modal">
        <div class="deposit-modal-content">
            <div class="deposit-modal-header">
                <h2><i class="fas fa-piggy-bank"></i> <span id="depositModalTitle">Deposit Application</span></h2>
                <span class="close" onclick="closeDepositModal()">&times;</span>
            </div>
            <div class="deposit-modal-body">
                <form class="deposit-form" id="depositForm">
                    <div class="form-section">
                        <div class="section-header">
                            <i class="fas fa-user"></i>
                            <h3>Personal Information</h3>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="depositName">Full Name *</label>
                                <input type="text" id="depositName" name="depositName" required>
                            </div>
                            <div class="form-group">
                                <label for="depositPhone">Phone Number *</label>
                                <input type="tel" id="depositPhone" name="depositPhone" pattern="[0-9]{10}" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="depositAmount">Deposit Amount (₹) *</label>
                                <input type="number" id="depositAmount" name="depositAmount" min="100" required>
                                <small>Minimum deposit amount: ₹100</small>
                            </div>
                            <div class="form-group">
                                <label for="depositTerm">Deposit Term</label>
                                <select id="depositTerm" name="depositTerm">
                                    <option value="">Select Term</option>
                                    <option value="6months">6 Months</option>
                                    <option value="1year">1 Year</option>
                                    <option value="2years">2 Years</option>
                                    <option value="3years">3 Years</option>
                                    <option value="5years">5 Years</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <div class="section-header">
                            <i class="fas fa-mobile-alt"></i>
                            <h3>UPI Payment Details</h3>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="upiApp">Preferred UPI App *</label>
                                <select id="upiApp" name="upiApp" required>
                                    <option value="">Select UPI App</option>
                                    <option value="googlepay">Google Pay</option>
                                    <option value="phonepe">PhonePe</option>
                                    <option value="paytm">Paytm</option>
                                    <option value="amazonpay">Amazon Pay</option>
                                    <option value="bhim">BHIM UPI</option>
                                    <option value="mobikwik">MobiKwik</option>
                                    <option value="freecharge">Freecharge</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="upiId">UPI ID *</label>
                                <input type="text" id="upiId" name="upiId" placeholder="yourname@upi" required>
                                <small>Enter your UPI ID (e.g., 9876543210@paytm)</small>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <div class="terms-section">
                            <div class="checkbox-group">
                                <input type="checkbox" id="depositTermsAccept" name="depositTermsAccept" required>
                                <label for="depositTermsAccept">
                                    I agree to the terms and conditions and authorize the UPI payment request.
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-outline" onclick="closeDepositModal()">Cancel</button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-credit-card"></i>
                            Generate UPI Request
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="assets/js/main.js"></script>
    <script>
        function showAccountModal(accountType) {
            document.getElementById('modalTitle').textContent = accountType + ' Information';
            document.getElementById('accountModal').style.display = 'block';
        }

        function closeAccountModal() {
            document.getElementById('accountModal').style.display = 'none';
        }

        function showLoanApplicationModal() {
            document.getElementById('loanApplicationModal').style.display = 'block';
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
        }

        function closeLoanApplicationModal() {
            document.getElementById('loanApplicationModal').style.display = 'none';
            document.body.style.overflow = 'auto'; // Restore scrolling
        }

        function showDepositModal(depositType) {
            document.getElementById('depositModalTitle').textContent = depositType + ' Application';
            document.getElementById('depositModal').style.display = 'block';
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
        }

        function closeDepositModal() {
            document.getElementById('depositModal').style.display = 'none';
            document.body.style.overflow = 'auto'; // Restore scrolling
        }

        function openBranchLocation() {
            const address = "41 Ft. Road, Uttaranchal Enclave, Kamalpur, Behind Hoover Apmt., Burari, Delhi-110084";
            const encodedAddress = encodeURIComponent(address);
            const googleMapsUrl = `https://www.google.com/maps/search/?api=1&query=${encodedAddress}`;
            window.open(googleMapsUrl, '_blank');
        }

        // File upload preview functionality
        function setupFileUpload(inputId, previewId) {
            const input = document.getElementById(inputId);
            const preview = document.getElementById(previewId);
            
            input.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const fileName = file.name;
                    const fileSize = (file.size / 1024 / 1024).toFixed(2);
                    
                    preview.innerHTML = `
                        <div class="file-info">
                            <i class="fas fa-check-circle"></i>
                            <span>${fileName}</span>
                            <small>(${fileSize} MB)</small>
                        </div>
                    `;
                    preview.style.display = 'block';
                }
            });
        }

        // Setup file uploads when modal opens
        document.addEventListener('DOMContentLoaded', function() {
            setupFileUpload('photoUpload', 'photoPreview');
            setupFileUpload('aadhaarUpload', 'aadhaarPreview');

            // Loan Form submission
            document.getElementById('loanApplicationForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Basic validation
                const requiredFields = this.querySelectorAll('[required]');
                let isValid = true;
                
                requiredFields.forEach(field => {
                    if (!field.value.trim()) {
                        isValid = false;
                        field.style.borderColor = '#e74c3c';
                    } else {
                        field.style.borderColor = '#ddd';
                    }
                });
                
                if (isValid) {
                    alert('Loan application submitted successfully! You will receive a confirmation email shortly. Our team will review your application and contact you within 2-3 business days.');
                    closeLoanApplicationModal();
                    this.reset(); // Clear form
                } else {
                    alert('Please fill in all required fields.');
                }
            });

            // Deposit Form submission
            document.getElementById('depositForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Basic validation
                const requiredFields = this.querySelectorAll('[required]');
                let isValid = true;
                
                requiredFields.forEach(field => {
                    if (!field.value.trim()) {
                        isValid = false;
                        field.style.borderColor = '#e74c3c';
                    } else {
                        field.style.borderColor = '#ddd';
                    }
                });
                
                if (isValid) {
                    const depositType = document.getElementById('depositModalTitle').textContent;
                    const amount = document.getElementById('depositAmount').value;
                    const upiApp = document.getElementById('upiApp').value;
                    const upiId = document.getElementById('upiId').value;
                    
                    // Generate UPI payment request
                    const upiUrl = `upi://pay?pa=${upiId}&pn=Kafal Cooperative Society&am=${amount}&cu=INR&tn=${encodeURIComponent(depositType + ' - Kafal Cooperative')}`;
                    
                    // Show success message and UPI link
                    alert(`${depositType} application submitted successfully!\n\nUPI Payment Request Generated:\nAmount: ₹${amount}\nUPI ID: ${upiId}\n\nClick OK to open your ${upiApp} app for payment.`);
                    
                    // Try to open UPI app
                    window.open(upiUrl, '_blank');
                    
                    closeDepositModal();
                    this.reset(); // Clear form
                } else {
                    alert('Please fill in all required fields.');
                }
            });

            // Aadhaar number formatting for all Aadhaar fields
            document.querySelectorAll('input[pattern="[0-9]{12}"]').forEach(input => {
                input.addEventListener('input', function(e) {
                    let value = e.target.value.replace(/\D/g, '');
                    if (value.length > 12) {
                        value = value.slice(0, 12);
                    }
                    e.target.value = value;
                });
            });

            // Mobile number validation
            document.querySelectorAll('input[type="tel"]').forEach(input => {
                input.addEventListener('input', function(e) {
                    let value = e.target.value.replace(/\D/g, '');
                    if (value.length > 10) {
                        value = value.slice(0, 10);
                    }
                    e.target.value = value;
                });
            });

            // PAN number formatting for all PAN fields
            document.querySelectorAll('input[pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"]').forEach(input => {
                input.addEventListener('input', function(e) {
                    let value = e.target.value.toUpperCase().replace(/[^A-Z0-9]/g, '');
                    if (value.length > 10) {
                        value = value.slice(0, 10);
                    }
                    e.target.value = value;
                });
            });

            // Phone number validation for deposit form
            document.getElementById('depositPhone').addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length > 10) {
                    value = value.slice(0, 10);
                }
                e.target.value = value;
            });
        });

        // Close modal when clicking outside
        window.onclick = function(event) {
            const accountModal = document.getElementById('accountModal');
            const loanModal = document.getElementById('loanApplicationModal');
            const depositModal = document.getElementById('depositModal');
            
            if (event.target == accountModal) {
                accountModal.style.display = 'none';
            }
            if (event.target == loanModal) {
                closeLoanApplicationModal();
            }
            if (event.target == depositModal) {
                closeDepositModal();
            }
        }
    </script>
</body>
</html>
